# The non-proxy-proxy

when contract inherited from some contracts. and some of tham also inherited from other contract. In that case there is complex inheritance tree.

check in this complex inheritance tree about vulnerable `fallback` function which transfer delegate call to some address. In this case our entire contract become a proxy for unimplemented and vulnerable function.

### example

Here `MyToken` contract is inherited from `IERC20`, `somecontract`, `VestingContract`.

```solidity
    contract MyToken is IERC20, somecontract, VestingContrat{
        //state vatiables

        //functions
    }
```

```solidity
    contract somecontract is Ownable{
        //functions

        fallback() external payable{
            if(msg.sender == owner()){
                (bool success,) = address(SOMEADDRESS).delegatecall(msg.data);
            }
        }
    }
```

This delegatecall can be vulnerable and may chnage some state data for Mytoken/somecontract contract.

Another possible attack is when MyToken contract deployed, `SOMEADDRESS` has no mint function. so it looks good and contract will deploy. But later we can change contract which stored at `SOMEADDRESS` while address remains the same (using `create` and `create2`) and we can add `mint` function. and we can call it from `MyToken` contract to mint tokens.

### Resources

https://www.youtube.com/watch?v=QhY9T-6QMlU
